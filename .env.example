# WhatsApp Bot Configuration
BOT_NAME=Bot Keuangan Pribadi
BOT_ADMIN_PHONE=+62812345678900

# Admin Secret for advanced QR scan debugging (optional)
ADMIN_SECRET=your_admin_secret_here

# AI Configuration
# Choose AI Provider: deepseek, openai, or openaicompatible
AI_PROVIDER=deepseek

# DeepSeek AI Configuration (if AI_PROVIDER=deepseek)
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# OpenAI Configuration (if AI_PROVIDER=openai)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com
OPENAI_MODEL=gpt-3.5-turbo

# OpenAI Compatible Configuration (if AI_PROVIDER=openaicompatible)
# Use this for providers like DeepSeek, Groq, LocalAI, etc.
OPENAI_COMPATIBLE_API_KEY=your_provider_api_key_here
OPENAI_COMPATIBLE_BASE_URL=https://api.your-provider.com
OPENAI_COMPATIBLE_MODEL=your_model_name

# Examples for popular OpenAI Compatible providers:
# 1. DeepSeek via OpenAI Compatible API:
#    OPENAI_COMPATIBLE_BASE_URL=https://api.deepseek.com
#    OPENAI_COMPATIBLE_MODEL=deepseek-chat
# 2. Groq:
#    OPENAI_COMPATIBLE_BASE_URL=https://api.groq.com/openai
#    OPENAI_COMPATIBLE_MODEL=llama3-8b-8192
# 3. LocalAI:
#    OPENAI_COMPATIBLE_BASE_URL=http://localhost:8080
#    OPENAI_COMPATIBLE_MODEL=your-local-model

# Database Configuration
# Choose ONE of these database types by uncommenting the relevant section:

# 1. SQLite3 (default, recommended for development)
#DATABASE_TYPE=sqlite3
DB_PATH=./data/financial.db
BACKUP_PATH=./backups

# 2. PostgreSQL (recommended for production)
# DATABASE_TYPE=postgres
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_NAME=financial_bot
# DATABASE_USER=your_username
# DATABASE_PASSWORD=your_password
# DATABASE_SSL=false

# 3. Supabase PostgreSQL (serverless/cloud)
# DATABASE_TYPE=supabase
# SUPABASE_DB_URL=postgres://your-project-ref.supabase.co:5432/postgres?user=postgres&password=your-password
# Note: Get the connection string from Supabase Dashboard > Settings > Database

DATABASE_TYPE=supabase
SUPABASE_DB_URL=postgresql://postgres.pvnpsdddrltwnfahacqw:p1kunPISAN100%@aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres?sslmode=require

# Database Pool Configuration (Advanced)
# These settings help optimize PostgreSQL connection pooling for better performance
DB_POOL_MAX=25                    # Maximum number of connections in pool
DB_POOL_MIN=5                     # Minimum number of connections to keep alive
DB_IDLE_TIMEOUT=30000             # Time in ms before closing idle connections (30s)
DB_CONNECTION_TIMEOUT=5000        # Time in ms to wait for new connection (5s)
DB_ACQUIRE_TIMEOUT=10000          # Time in ms to wait to acquire connection from pool (10s)
DB_CREATE_TIMEOUT=5000            # Time in ms to wait for connection creation (5s)
DB_DESTROY_TIMEOUT=5000           # Time in ms to wait for connection destruction (5s)
DB_REAP_INTERVAL=1000             # Time in ms between cleanup of idle connections (1s)
DB_CREATE_RETRY_INTERVAL=200      # Time in ms between connection creation retries (200ms)
DB_STATEMENT_TIMEOUT=30000        # SQL statement timeout in ms (30s)
DB_QUERY_TIMEOUT=30000            # Query timeout in ms (30s)
DEBUG_POOL=false                  # Enable detailed pool logging (true/false)



# Server Configuration
PORT=3000
NODE_ENV=development
BASE_URL=http://localhost:3000

# Security
ENCRYPTION_KEY=your_32_character_encryption_key_here
USER_ADMIN=+62812345678900

# Language & Currency
DEFAULT_LANGUAGE=id
DEFAULT_CURRENCY=IDR
CURRENCY_SYMBOL=Rp

# Features
# WhatsApp Configuration
WHATSAPP_SESSION_STORAGE=database    # Options: file (default) or database

# Features
ENABLE_AI_FEATURES=true
ENABLE_OCR=true
ENABLE_REMINDERS=true
ASK_CATEGORY_IF_UNKNOWN=true

# Anti-Spam & Rate Limiting (Critical for WhatsApp Ban Prevention)
ANTI_SPAM_USER_PER_MINUTE=10          # Max messages per user per minute
ANTI_SPAM_USER_PER_HOUR=100           # Max messages per user per hour
ANTI_SPAM_MAX_DUPLICATES=3            # Max duplicate messages allowed
ANTI_SPAM_GLOBAL_PER_MINUTE=50        # Global limit per minute (all users)
ANTI_SPAM_GLOBAL_PER_HOUR=1000        # Global limit per hour (all users)
ANTI_SPAM_DUPLICATE_WINDOW=60000      # Window for duplicate detection (ms)
ANTI_SPAM_RAPID_FIRE=5                # Max rapid fire messages
ANTI_SPAM_RAPID_FIRE_WINDOW=10000     # Rapid fire detection window (ms)
ANTI_SPAM_USER_COOLDOWN=5             # User cooldown period (minutes)
ANTI_SPAM_GLOBAL_COOLDOWN=2           # Global cooldown period (minutes)
ANTI_SPAM_EMERGENCY_BRAKE=true        # Enable emergency brake
ANTI_SPAM_EMERGENCY_THRESHOLD=100     # Emergency brake threshold (msg/min)

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/app.log